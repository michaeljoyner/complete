{"version":3,"names":[],"mappings":"","sources":["front.js"],"sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nvar AjaxContactForm = function AjaxContactForm(formEl) {\n    this.formEl = formEl;\n    this.errorBox = null;\n};\n\nAjaxContactForm.prototype = {\n\n    init: function init() {\n        var reset = document.getElementById('cf-reset');\n        reset.addEventListener('click', this.formReset.bind(this), false);\n        this.formEl.onsubmit = this.handleSubmit.bind(this);\n        this.setupErrorBox();\n    },\n\n    sendForm: function sendForm() {\n        var fd = new window.FormData(this.formEl);\n        var req = new window.XMLHttpRequest();\n        var self = this;\n        self.clearErrors();\n        req.open('POST', this.formEl.getAttribute('action'), true);\n        req.setRequestHeader('X-Requested-With', 'XMLHttpRequest');\n        req.onreadystatechange = function (ev) {\n            if (req.readyState == 4) {\n                if (req.status == 200) {\n                    self.showSuccess();\n                } else {\n                    self.failResponse(req.status);\n                }\n            }\n        };\n        req.send(fd);\n        return false;\n    },\n\n    handleSubmit: function handleSubmit(ev) {\n        if (!window.FormData) return true;\n        ev.preventDefault();\n        this.sendForm();\n        return false;\n    },\n\n    showSuccess: function showSuccess() {\n        this.formEl.className += ' closed';\n    },\n\n    failResponse: function failResponse(status) {\n        if (status >= 500) {\n            this.showErrorMessage('Sorry! There was a problem on our side. Please try again later');\n            return;\n        }\n\n        if (status === 422) {\n            this.showErrorMessage('There was a problem with your input. Please check and try again. All fields are required');\n            return;\n        }\n\n        this.showErrorMessage('Oops! Something went wrong. Sorry. Please try again.');\n    },\n\n    formReset: function formReset() {\n        this.formEl.reset();\n        this.formEl.className = 'gdb-form';\n    },\n\n    setupErrorBox: function setupErrorBox() {\n        var box = document.createElement('div');\n        box.setAttribute('class', 'cf-error-box');\n        this.errorBox = this.formEl.insertBefore(box, this.formEl.firstChild);\n    },\n\n    showErrorMessage: function showErrorMessage(message) {\n        this.errorBox.innerHTML += \"<p>\" + message + \"</p>\";\n    },\n\n    clearErrors: function clearErrors() {\n        this.errorBox.innerHTML = '';\n    }\n};\n\nmodule.exports = AjaxContactForm;\n\n},{}],2:[function(require,module,exports){\n'use strict';\n\nwindow.AjaxContactForm = require('./contactform.js');\n\n},{\"./contactform.js\":1}]},{},[2]);\n"],"file":"front.js","sourceRoot":"/source/"}